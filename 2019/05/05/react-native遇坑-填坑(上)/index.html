<!-- build time:Wed Dec 25 2024 04:35:32 GMT+0000 (Coordinated Universal Time) --><!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui"><meta name="renderer" content="webkit"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no,email=no,adress=no"><meta name="theme-color" content="#000000"><meta http-equiv="window-target" content="_top"><title>react-native遇坑-填坑(上) | 框框之下</title><meta name="description" content="1.navigation的菜单tabbar中间按钮溢出：参考demo：https:&#x2F;&#x2F;github.com&#x2F;zhangyanlf&#x2F;RNTabbar 2.ant-design-rn主题方案：使用了global.js的全局变量 加上 组件内导入ant-design-rn的lib文件夹下的style，使用StyleSheet.flatten重新组合生成新的style     import ButtonS"><meta property="og:type" content="article"><meta property="og:title" content="react-native遇坑-填坑(上)"><meta property="og:url" content="http://www.kuang2.cn/2019/05/05/react-native%E9%81%87%E5%9D%91-%E5%A1%AB%E5%9D%91(%E4%B8%8A)/index.html"><meta property="og:site_name" content="框框之下"><meta property="og:description" content="1.navigation的菜单tabbar中间按钮溢出：参考demo：https:&#x2F;&#x2F;github.com&#x2F;zhangyanlf&#x2F;RNTabbar 2.ant-design-rn主题方案：使用了global.js的全局变量 加上 组件内导入ant-design-rn的lib文件夹下的style，使用StyleSheet.flatten重新组合生成新的style     import ButtonS"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2019-05-05T12:48:00.000Z"><meta property="article:modified_time" content="2024-12-25T04:35:06.686Z"><meta property="article:author" content="框框之下"><meta property="article:tag" content="技术"><meta property="article:tag" content="JS"><meta property="article:tag" content="reactnatie"><meta name="twitter:card" content="summary"><link rel="canonical" href="http://www.kuang2.cn/2019/05/05/react-native%E9%81%87%E5%9D%91-%E5%A1%AB%E5%9D%91(%E4%B8%8A)/index.html"><link rel="alternate" href="/atom.xml" title="框框之下" type="application/atom+xml"><link rel="icon" href="favicon.jpg" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><meta name="generator" content="Hexo 6.3.0"></head><body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="slimContent"><div class="navbar-header"><div class="profile-block text-center"><a id="avatar" href="https://github.com/chenkuangkuang" target="_blank"><img class="img-circle img-rotate" src="/images/avatar.jpg" width="200" height="200"></a><h2 id="name" class="hidden-xs hidden-sm">框框之下</h2><h3 id="title" class="hidden-xs hidden-sm hidden-md">Web Developer</h3><small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Wuhan, China</small></div><div class="search" id="search-form-wrap"><form class="search-form sidebar-form"><div class="input-group"><input type="text" class="search-form-input form-control" placeholder="搜索"> <span class="input-group-btn"><button type="submit" class="search-form-submit btn btn-flat" onclick="return!1"><i class="icon icon-search"></i></button></span></div></form><div class="ins-search"><div class="ins-search-mask"></div><div class="ins-search-container"><div class="ins-input-wrapper"><input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech> <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button></div><div class="ins-section-wrapper"><div class="ins-section-container"></div></div></div></div></div><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button></div><nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation"><ul class="nav navbar-nav main-nav menu-highlight"><li class="menu-item menu-item-home"><a href="/."><i class="icon icon-home-fill"></i> <span class="menu-title">首页</span></a></li><li class="menu-item menu-item-archives"><a href="/archives"><i class="icon icon-archives-fill"></i> <span class="menu-title">归档</span></a></li><li class="menu-item menu-item-categories"><a href="/categories"><i class="icon icon-folder"></i> <span class="menu-title">分类</span></a></li><li class="menu-item menu-item-tags"><a href="/tags"><i class="icon icon-tags"></i> <span class="menu-title">标签</span></a></li><li class="menu-item menu-item-repository"><a href="/repository"><i class="icon icon-project"></i> <span class="menu-title">项目</span></a></li><li class="menu-item menu-item-books"><a href="/books"><i class="icon icon-book-fill"></i> <span class="menu-title">书单</span></a></li><li class="menu-item menu-item-links"><a href="/links"><i class="icon icon-friendship"></i> <span class="menu-title">友链</span></a></li></ul><ul class="social-links"><li><a href="https://github.com/chenkuangkuang" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li><li><a href="https://www.weibo.com/u/2158375032" target="_blank" title="Weibo" data-toggle="tooltip" data-placement="top"><i class="icon icon-weibo"></i></a></li><li><a href="https://www.zhihu.com/people/chen-kuang-kuang/activities" target="_blank" title="Zhihu" data-toggle="tooltip" data-placement="top"><i class="icon icon-zhihu"></i></a></li><li><a href="mailto:540342678@qq.com" target="_blank" title="Email" data-toggle="tooltip" data-placement="top"><i class="icon icon-email"></i></a></li></ul></nav></div></header><aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar"><div class="slimContent"><div class="widget"><h3 class="widget-title"></h3><div class="widget-body"><div id="board"><div class="content"><div><div style="text-align:center"><img title="关注我的个人公众号框框之下" src="/images/alipayimg.png" width="140" height="140"></div></div></div></div></div></div><div class="widget"><h3 class="widget-title">分类</h3><div class="widget-body"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%BA%BA%E7%89%A9/">人物</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%85%B3%E4%BA%8E%E6%88%91/">关于我</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BD%B1%E8%AF%84/">影评</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><span class="category-list-count">25</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E7%A0%81/">数码</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%96%B0%E6%8A%80%E8%83%BD/">新技能</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%84%91%E6%B4%9E/">脑洞</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a><span class="category-list-count">48</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%9A%8F%E7%AC%94/">随笔</a><span class="category-list-count">162</span></li></ul></div></div><div class="widget"><h3 class="widget-title">标签云</h3><div class="widget-body tagcloud"><a href="/tags/JS/" style="font-size:13.55px">JS</a> <a href="/tags/JS-JS%E5%9F%BA%E7%A1%80/" style="font-size:13.27px">JS JS基础</a> <a href="/tags/JS-JS%E5%9F%BA%E7%A1%80-React/" style="font-size:13.09px">JS JS基础 React</a> <a href="/tags/JS%E5%9F%BA%E7%A1%80/" style="font-size:13.09px">JS基础</a> <a href="/tags/ant-design-pro/" style="font-size:13px">ant-design-pro</a> <a href="/tags/css/" style="font-size:13.09px">css</a> <a href="/tags/leaflet/" style="font-size:13.18px">leaflet</a> <a href="/tags/react/" style="font-size:13px">react</a> <a href="/tags/react-native/" style="font-size:13.09px">react native</a> <a href="/tags/reactnatie/" style="font-size:13.09px">reactnatie</a> <a href="/tags/threejs/" style="font-size:13px">threejs</a> <a href="/tags/wallet/" style="font-size:13px">wallet</a> <a href="/tags/web-server/" style="font-size:13px">web server</a> <a href="/tags/web3/" style="font-size:13px">web3</a> <a href="/tags/webview/" style="font-size:13px">webview</a> <a href="/tags/%E4%BA%BA%E7%89%A9/" style="font-size:13.73px">人物</a> <a href="/tags/%E5%85%B3%E4%BA%8E%E6%88%91/" style="font-size:13.09px">关于我</a> <a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size:13px">工具</a> <a href="/tags/%E5%BD%B1%E8%AF%84/" style="font-size:13.45px">影评</a> <a href="/tags/%E6%8A%80%E6%9C%AF/" style="font-size:13.82px">技术</a> <a href="/tags/%E6%95%B0%E7%A0%81/" style="font-size:13.64px">数码</a> <a href="/tags/%E6%96%B0%E6%8A%80%E8%83%BD/" style="font-size:13.36px">新技能</a> <a href="/tags/%E6%9D%82%E6%84%9F/" style="font-size:14px">杂感</a> <a href="/tags/%E8%84%91%E6%B4%9E/" style="font-size:13.45px">脑洞</a> <a href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" style="font-size:13.91px">读书笔记</a></div></div><div class="widget"><h3 class="widget-title">归档</h3><div class="widget-body"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/12/">十二月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/10/">十月 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/09/">九月 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/08/">八月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/04/">四月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">二月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">十二月 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">十一月 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">八月 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">七月 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">四月 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">二月 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">十二月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">八月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">五月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">二月 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">十二月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">九月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">八月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">七月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">六月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">五月 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">二月 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">三月 2016</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">二月 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">一月 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">十二月 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">十一月 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">十月 2015</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">九月 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">八月 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">七月 2015</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">六月 2015</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">五月 2015</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">四月 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">三月 2015</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">二月 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">一月 2015</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">十二月 2014</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">十一月 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">十月 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">九月 2014</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">八月 2014</a><span class="archive-list-count">17</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">七月 2014</a><span class="archive-list-count">18</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">六月 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04/">四月 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/01/">一月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/07/">七月 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/04/">四月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/07/">七月 2011</a><span class="archive-list-count">1</span></li></ul></div></div></div></aside><aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar"><div class="slimContent"><nav id="toc" class="article-toc"><h3 class="toc-title">文章目录</h3><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-navigation%E7%9A%84%E8%8F%9C%E5%8D%95tabbar%E4%B8%AD%E9%97%B4%E6%8C%89%E9%92%AE%E6%BA%A2%E5%87%BA%EF%BC%9A"><span class="toc-number">1.</span> <span class="toc-text">1.navigation的菜单tabbar中间按钮溢出：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-ant-design-rn%E4%B8%BB%E9%A2%98%E6%96%B9%E6%A1%88%EF%BC%9A"><span class="toc-number">2.</span> <span class="toc-text">2.ant-design-rn主题方案：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%9C%A8%E8%B0%83%E8%AF%95%E5%99%A8%EF%BC%88React-Native-Debugger%EF%BC%89%E4%B8%AD%E5%B1%95%E7%A4%BAnetwork%E4%BF%A1%E6%81%AF%EF%BC%9A"><span class="toc-number">3.</span> <span class="toc-text">3.在调试器（React Native Debugger）中展示network信息：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E7%95%8C%E9%9D%A2%E4%B8%8D%E6%98%BE%E7%A4%BA%EF%BC%8C%E6%8E%A7%E5%88%B6%E5%8F%B0%E4%B8%80%E7%9B%B4%E6%8F%90%E7%A4%BA%EF%BC%9A-ffff-127-0-0-1-20-Dec-2018-02-42-20-0000-%E2%80%9CGET-index-delta-platform-android-amp-dev-true-amp-minify-false-HTTP-1-1%E2%80%9D-200-%E2%80%9C-%E2%80%9C-%E2%80%9Cokhttp-3-11-0%E2%80%9D"><span class="toc-number">4.</span> <span class="toc-text">4.界面不显示，控制台一直提示：::ffff:127.0.0.1 - - [20&#x2F;Dec&#x2F;2018:02:42:20 +0000] “GET &#x2F;index.delta?platform&#x3D;android&amp;dev&#x3D;true&amp;minify&#x3D;false HTTP&#x2F;1.1” 200 - “-“ “okhttp&#x2F;3.11.0”</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-axios%E6%8B%A6%E6%88%AA%E5%99%A8%E9%87%8C%E4%BD%BF%E7%94%A8react-navigation%E8%B7%B3%E8%BD%AC"><span class="toc-number">5.</span> <span class="toc-text">5.axios拦截器里使用react-navigation跳转</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E5%88%87%E6%8D%A2%E8%B7%AF%E7%94%B1%E5%81%87%E6%AD%BB%EF%BC%9A%E7%82%B9%E5%87%BB%E9%A1%B5%E9%9D%A2%E4%B8%8B%E9%83%A8%E7%9A%84nav%E5%AF%BC%E8%88%AA%E8%8F%9C%E5%8D%95%EF%BC%8C%E5%8D%A1%E4%BD%8F"><span class="toc-number">6.</span> <span class="toc-text">6.切换路由假死：点击页面下部的nav导航菜单，卡住</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-%E5%9C%A8chrome%E8%B0%83%E8%AF%95%E9%A1%B5devTools%E7%9A%84netWork%E4%B8%AD%E5%8F%91%E7%8E%B0%E4%BA%86-Provisional-headers-are-shown"><span class="toc-number">7.</span> <span class="toc-text">7.在chrome调试页devTools的netWork中发现了 Provisional headers are shown</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-%E6%B8%90%E5%8F%98%E5%92%8C%E9%98%B4%E5%BD%B1%EF%BC%9A"><span class="toc-number">8.</span> <span class="toc-text">8.渐变和阴影：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-code-push-server%EF%BC%9A%E8%87%AA%E5%BB%BAreact-native-%E7%9A%84-code-push%E7%83%AD%E6%9B%B4%E6%96%B0%E6%9C%8D%E5%8A%A1"><span class="toc-number">9.</span> <span class="toc-text">9.code-push-server：自建react-native 的 code push热更新服务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-react-native%E5%A6%82%E4%BD%95%E7%BB%84%E7%BB%87css%EF%BC%9A"><span class="toc-number">10.</span> <span class="toc-text">10.react-native如何组织css：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-%E8%AE%BE%E7%BD%AEposition-absolute%E4%B8%8D%E6%98%BE%E7%A4%BA"><span class="toc-number">11.</span> <span class="toc-text">11.设置position:absolute不显示</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-image%E4%B8%8D%E8%A7%84%E5%88%99%E5%9B%BE%E7%89%87%E5%8F%AA%E6%98%BE%E7%A4%BA%E6%AD%A3%E6%96%B9%E7%9A%84%E9%83%A8%E5%88%86"><span class="toc-number">12.</span> <span class="toc-text">12.image不规则图片只显示正方的部分</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#13-webview%E7%9A%84%E5%86%85%E5%AE%B9%E4%B8%8D%E5%9B%BA%E5%AE%9A%E9%AB%98%E5%BA%A6%E9%97%AE%E9%A2%98%EF%BC%9A"><span class="toc-number">13.</span> <span class="toc-text">13.webview的内容不固定高度问题：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#14-mac-ios%E7%89%88%E6%9C%AC%E4%B8%8B%E6%8A%A5%E9%94%99-%E2%80%98config-h%E2%80%99-file-not-found"><span class="toc-number">14.</span> <span class="toc-text">14.mac-ios版本下报错 ‘config.h’ file not found</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#15-%E8%9A%82%E8%9A%81%E7%BB%84%E4%BB%B6react-native-rn%E7%9A%84Popover%E7%BB%84%E4%BB%B6%EF%BC%8C%E5%AD%90%E7%BB%84%E4%BB%B6%E4%B8%8D%E8%83%BD%E6%98%AFTouchableOpacity%EF%BC%8C%E5%90%A6%E5%88%99%E4%B8%8D%E6%98%BE%E7%A4%BA"><span class="toc-number">15.</span> <span class="toc-text">15.蚂蚁组件react-native-rn的Popover组件，子组件不能是TouchableOpacity，否则不显示</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#16-%E8%9A%82%E8%9A%81%E7%BB%84%E4%BB%B6%E7%9A%84Drawer%E7%BB%84%E4%BB%B6%EF%BC%8C%E9%AB%98%E5%BA%A6%E6%97%A0%E6%B3%95%E8%AE%BE%E7%BD%AE%E3%80%82"><span class="toc-number">16.</span> <span class="toc-text">16.蚂蚁组件的Drawer组件，高度无法设置。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#17-ScrollView%E5%AD%90%E7%BB%84%E4%BB%B6%E6%9C%AA%E8%AE%BE%E9%AB%98%E5%BA%A6%E6%97%A0%E6%B3%95%E6%92%91%E5%BC%80%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">17.</span> <span class="toc-text">17.ScrollView子组件未设高度无法撑开的问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#18-style%E4%BD%BF%E7%94%A8%E6%95%B0%E7%BB%84%E5%92%8C%E9%9D%9E%E6%95%B0%E7%BB%84%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%8C%E6%95%B0%E7%BB%84%E5%B9%B6%E4%B8%8D%E6%98%AF%E7%AE%80%E5%8D%95%E7%9A%84%E5%90%88%E5%B9%B6%E5%85%B3%E7%B3%BB"><span class="toc-number">18.</span> <span class="toc-text">18.style使用数组和非数组的区别，数组并不是简单的合并关系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#19-%E5%85%A8%E5%B1%80%E5%BC%80%E5%90%AF%E8%AF%B7%E6%B1%82%E8%B0%83%E8%AF%95%E6%97%B6%EF%BC%8C%E6%97%A0%E6%B3%95%E6%AD%A3%E5%B8%B8%E5%8F%91%E9%80%81formData%E8%AF%B7%E6%B1%82"><span class="toc-number">19.</span> <span class="toc-text">19.全局开启请求调试时，无法正常发送formData请求</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#20-webview%E4%B8%AD%E4%BD%BF%E7%94%A8injectedJavaScript%E4%B8%8D%E8%83%BD%E6%89%A7%E8%A1%8C"><span class="toc-number">20.</span> <span class="toc-text">20.webview中使用injectedJavaScript不能执行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#21-react-native%E8%87%AA%E5%B8%A6%E7%BB%84%E4%BB%B6FlatList%E4%B8%8D%E9%9A%8FsetState%E6%9B%B4%E6%96%B0%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">21.</span> <span class="toc-text">21.react-native自带组件FlatList不随setState更新的问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#22-react-native%E8%87%AA%E5%B8%A6%E7%BB%84%E4%BB%B6FlatList%E7%9A%84renderItem%EF%BC%88item-i%EF%BC%89%E4%B8%AD%E7%9A%84i%E4%B8%8D%E8%B5%B7%E4%BD%9C%E7%94%A8"><span class="toc-number">22.</span> <span class="toc-text">22.react-native自带组件FlatList的renderItem（item, i）中的i不起作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#23-react-native%E9%A1%B9%E7%9B%AE%E5%BC%95%E5%85%A5mock%E4%B8%8D%E8%B5%B7%E4%BD%9C%E7%94%A8%EF%BC%9A"><span class="toc-number">23.</span> <span class="toc-text">23.react native项目引入mock不起作用：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#24-webview%E7%9A%84injectJavaScript%E6%96%B9%E6%B3%95%E6%8F%92%E5%85%A5js%E4%BB%A3%E7%A0%81%E4%B8%8D%E6%89%A7%E8%A1%8C"><span class="toc-number">24.</span> <span class="toc-text">24.webview的injectJavaScript方法插入js代码不执行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#25-react-native-table-component%E5%AE%9E%E7%8E%B0%E8%B7%A8%E8%A1%8C%E5%92%8C%E8%B7%A8%E5%88%97"><span class="toc-number">25.</span> <span class="toc-text">25.react-native-table-component实现跨行和跨列</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#26-%E4%BD%BF%E7%94%A8react-navigation%E7%9A%84navigate-%E6%97%B6%EF%BC%8CcomponentWillUnmount%E4%B8%8D%E4%BC%9A%E8%A7%A6%E5%8F%91"><span class="toc-number">26.</span> <span class="toc-text">26.使用react-navigation的navigate()时，componentWillUnmount不会触发</span></a></li></ol></nav></div></aside><main class="main" role="main"><div class="content"><article id="post-react-native遇坑-填坑(上)" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting"><div class="article-header"><h1 class="article-title" itemprop="name">react-native遇坑-填坑(上)</h1><div class="article-meta"><span class="article-date"><i class="icon icon-calendar-check"></i> <a href="/2019/05/05/react-native%E9%81%87%E5%9D%91-%E5%A1%AB%E5%9D%91(%E4%B8%8A)/" class="article-date"><time datetime="2019-05-05T12:48:00.000Z" itemprop="datePublished">2019-05-05</time> </a></span><span class="article-category"><i class="icon icon-folder"></i> <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a> </span><span class="article-tag"><i class="icon icon-tags"></i> <a class="article-tag-link-link" href="/tags/JS/" rel="tag">JS</a>, <a class="article-tag-link-link" href="/tags/reactnatie/" rel="tag">reactnatie</a>, <a class="article-tag-link-link" href="/tags/%E6%8A%80%E6%9C%AF/" rel="tag">技术</a> </span><span class="post-comment"><i class="icon icon-comment"></i> <a href="/2019/05/05/react-native%E9%81%87%E5%9D%91-%E5%A1%AB%E5%9D%91(%E4%B8%8A)/#comments" class="article-comment-link">评论</a></span> <span class="post-wordcount hidden-xs" itemprop="wordCount">字数统计: 1.6k(字)</span> <span class="post-readcount hidden-xs" itemprop="timeRequired">阅读时长: 7(分)</span></div></div><div class="article-entry marked-body" itemprop="articleBody"><h4 id="1-navigation的菜单tabbar中间按钮溢出："><a href="#1-navigation的菜单tabbar中间按钮溢出：" class="headerlink" title="1.navigation的菜单tabbar中间按钮溢出："></a>1.navigation的菜单tabbar中间按钮溢出：</h4><p>参考demo：<a target="_blank" rel="noopener" href="https://github.com/zhangyanlf/RNTabbar">https://github.com/zhangyanlf/RNTabbar</a></p><h4 id="2-ant-design-rn主题方案："><a href="#2-ant-design-rn主题方案：" class="headerlink" title="2.ant-design-rn主题方案："></a>2.ant-design-rn主题方案：</h4><pre><code>使用了global.js的全局变量 加上 组件内导入ant-design-rn的lib文件夹下的style，使用StyleSheet.flatten重新组合生成新的style

   import ButtonStyle from &apos;antd-mobile-rn/lib/button/style/index.native.js&apos;;
   ……
   function changeStyle(bgColor) &#123;
       for (const key in ButtonStyle) &#123;
           if (Object.prototype.hasOwnProperty.call(ButtonStyle, key)) &#123;
               newStyle[key] = &#123; ...StyleSheet.flatten(ButtonStyle[key]) &#125;;
               if (key === &apos;primaryRaw&apos; || key == &apos;primaryHighlight&apos;) &#123;
                   newStyle[key].backgroundColor = bgColor;
                   newStyle[key].borderColor = bgColor;
               &#125;

           &#125;
       &#125;
   &#125;</code></pre><p>2.0版更新：<a target="_blank" rel="noopener" href="https://github.com/ant-design/ant-design-mobile/pull/1629">https://github.com/ant-design/ant-design-mobile/pull/1629</a></p><p>我的用法：</p><pre><code>import ButtonStyle from &apos;antd-mobile-rn/lib/button/style/index.native&apos;;
let obj = &#123; ...ButtonStyle &#125;;
const StyleChange = (primaryColor) =&gt; &#123;
  obj = &#123;
    ...ButtonStyle,
    primaryHighlight: &#123;
      borderColor:primaryColor,
      backgroundColor:primaryColor
    &#125;,
    primaryRaw: &#123;
      borderColor:primaryColor,
      backgroundColor:primaryColor
    &#125;,
  &#125;
  return obj;
&#125;
export default StyleChange;</code></pre><h4 id="3-在调试器（React-Native-Debugger）中展示network信息："><a href="#3-在调试器（React-Native-Debugger）中展示network信息：" class="headerlink" title="3.在调试器（React Native Debugger）中展示network信息："></a>3.在调试器（React Native Debugger）中展示network信息：</h4><p>global.js中加入：</p><pre><code>GLOBAL.XMLHttpRequest = GLOBAL.originalXMLHttpRequest || GLOBAL.XMLHttpRequest</code></pre><h4 id="4-界面不显示，控制台一直提示：-ffff-127-0-0-1-20-Dec-2018-02-42-20-0000-“GET-index-delta-platform-android-amp-dev-true-amp-minify-false-HTTP-1-1”-200-“-“-“okhttp-3-11-0”"><a href="#4-界面不显示，控制台一直提示：-ffff-127-0-0-1-20-Dec-2018-02-42-20-0000-“GET-index-delta-platform-android-amp-dev-true-amp-minify-false-HTTP-1-1”-200-“-“-“okhttp-3-11-0”" class="headerlink" title="4.界面不显示，控制台一直提示：::ffff:127.0.0.1 - - [20/Dec/2018:02:42:20 +0000] “GET /index.delta?platform=android&amp;dev=true&amp;minify=false HTTP/1.1” 200 - “-“ “okhttp/3.11.0”"></a>4.界面不显示，控制台一直提示：::ffff:127.0.0.1 - - [20/Dec/2018:02:42:20 +0000] “GET /index.delta?platform=android&amp;dev=true&amp;minify=false HTTP/1.1” 200 - “-“ “okhttp/3.11.0”</h4><p>可能并不是一个报错信息，只是单纯的界面出不来，原因是调试是我把root.js里面TabNavigator内定义的两个页面互换了</p><p>PS：后来遇到同样问题，并发现了第二种原因：提前打开了chrome的debugger页面，关掉再启动就好了。</p><h4 id="5-axios拦截器里使用react-navigation跳转"><a href="#5-axios拦截器里使用react-navigation跳转" class="headerlink" title="5.axios拦截器里使用react-navigation跳转"></a>5.axios拦截器里使用react-navigation跳转</h4><p>按照官方文档说明(<a target="_blank" rel="noopener" href="https://reactnavigation.org/docs/zh-Hans/navigating-without-navigation-prop.html">https://reactnavigation.org/docs/zh-Hans/navigating-without-navigation-prop.html</a><br>)，建立NavigationService.js文件，然后在app上注册</p><pre><code>import &#123;NavigationActions&#125; from &apos;react-navigation&apos;
// reference : https://reactnavigation.org/docs/navigating-without-navigation-prop.html
// 该服务作为单例模式使用，用于记录顶层导航器，这样在应用的各个部分，各个屏幕组件内部，
// 或者任何屏幕组件之外的其他服务逻辑/工具逻辑中，都可以使用该服务的 navigate() 方法导航到目标屏幕，
// 类似于在某个屏幕组件中使用 this.props.navigation.navigate 函数进行的屏幕切换
// 用于记录所使用的导航器
let _navigator;
/**
* 记录所使用的导航器
* @param navigatorRef
*/
function setTopLevelNavigator(navigatorRef) &#123;
    _navigator = navigatorRef;
&#125;
/**
* 导航到目标路由/屏幕
* @param routeName
* @param params
*/
function navigate(routeName, params) &#123;
    _navigator.dispatch(
        NavigationActions.navigate(&#123;
            type: NavigationActions.NAVIGATE,
            routeName,
            params,
        &#125;)
    );
&#125;
export default &#123;
    navigate,
    setTopLevelNavigator,
&#125;;</code></pre><p>因为本项目用到了redux，故用以下方法：</p><h4 id="6-切换路由假死：点击页面下部的nav导航菜单，卡住"><a href="#6-切换路由假死：点击页面下部的nav导航菜单，卡住" class="headerlink" title="6.切换路由假死：点击页面下部的nav导航菜单，卡住"></a>6.切换路由假死：点击页面下部的nav导航菜单，卡住</h4><p>进入应用后开启app内的 remote js debug选项后打开浏览器内保存的debug页面标签</p><h4 id="7-在chrome调试页devTools的netWork中发现了-Provisional-headers-are-shown"><a href="#7-在chrome调试页devTools的netWork中发现了-Provisional-headers-are-shown" class="headerlink" title="7.在chrome调试页devTools的netWork中发现了 Provisional headers are shown"></a>7.在chrome调试页devTools的netWork中发现了 Provisional headers are shown</h4><p>关闭global.js的network调试</p><pre><code>// GLOBAL.XMLHttpRequest = GLOBAL.originalXMLHttpRequest || GLOBAL.XMLHttpRequest</code></pre><h4 id="8-渐变和阴影："><a href="#8-渐变和阴影：" class="headerlink" title="8.渐变和阴影："></a>8.渐变和阴影：</h4><p>渐变插件：react-native-linear-gradient</p><p>阴影：</p><pre><code>shadow: &#123;
    shadowColor: &apos;black&apos;,
    elevation: 5,
    shadowOffset: &#123; width: 5, height: 5 &#125;,
    shadowOpacity: 1,
    shadowRadius: 10,
    backgroundColor: &apos;#fff&apos;, // 背景色必需
    zIndex: 999, 
    marginTop: 5,
    marginBottom: 20,
    borderRadius: 10,
&#125;</code></pre><h4 id="9-code-push-server：自建react-native-的-code-push热更新服务"><a href="#9-code-push-server：自建react-native-的-code-push热更新服务" class="headerlink" title="9.code-push-server：自建react-native 的 code push热更新服务"></a>9.code-push-server：自建react-native 的 code push热更新服务</h4><h4 id="10-react-native如何组织css："><a href="#10-react-native如何组织css：" class="headerlink" title="10.react-native如何组织css："></a>10.react-native如何组织css：</h4><p><a target="_blank" rel="noopener" href="https://juejin.im/post/5a8f832c5188257a6a78dff9">https://juejin.im/post/5a8f832c5188257a6a78dff9</a></p><h4 id="11-设置position-absolute不显示"><a href="#11-设置position-absolute不显示" class="headerlink" title="11.设置position:absolute不显示"></a>11.设置position:absolute不显示</h4><p>scrollView组件改成普通的view组件即可</p><h4 id="12-image不规则图片只显示正方的部分"><a href="#12-image不规则图片只显示正方的部分" class="headerlink" title="12.image不规则图片只显示正方的部分"></a>12.image不规则图片只显示正方的部分</h4><p>设置了宽高，width height</p><h4 id="13-webview的内容不固定高度问题："><a href="#13-webview的内容不固定高度问题：" class="headerlink" title="13.webview的内容不固定高度问题："></a>13.webview的内容不固定高度问题：</h4><p>使用onNavigationStateChange属性</p><pre><code>onNavigationStateChange=&#123;(title)=&gt;&#123;
      if(title.title != undefined) &#123;
          this.setState(&#123;
            height:(parseInt(title.target)+120)
          &#125;)
      &#125;
&#125;&#125;</code></pre><h4 id="14-mac-ios版本下报错-‘config-h’-file-not-found"><a href="#14-mac-ios版本下报错-‘config-h’-file-not-found" class="headerlink" title="14.mac-ios版本下报错 ‘config.h’ file not found"></a>14.mac-ios版本下报错 ‘config.h’ file not found</h4><p>在项目目录-依赖文件夹-react-native-third-party-glog-0.3.5文件夹下执行</p><pre><code>执行 ../../scripts/ios-configure-glog.sh

./configure

make

make install</code></pre><h4 id="15-蚂蚁组件react-native-rn的Popover组件，子组件不能是TouchableOpacity，否则不显示"><a href="#15-蚂蚁组件react-native-rn的Popover组件，子组件不能是TouchableOpacity，否则不显示" class="headerlink" title="15.蚂蚁组件react-native-rn的Popover组件，子组件不能是TouchableOpacity，否则不显示"></a>15.蚂蚁组件react-native-rn的Popover组件，子组件不能是TouchableOpacity，否则不显示</h4><h4 id="16-蚂蚁组件的Drawer组件，高度无法设置。"><a href="#16-蚂蚁组件的Drawer组件，高度无法设置。" class="headerlink" title="16.蚂蚁组件的Drawer组件，高度无法设置。"></a>16.蚂蚁组件的Drawer组件，高度无法设置。</h4><p>改为view包裹并调整样式</p><pre><code> drawerContainer: &#123;
    position: &apos;absolute&apos;,
    zIndex: 999,
    top:0,
    right: 0,
    height: HEIGHT,
 &#125;,
 drawerBox: &#123;        
    padding: 8,
    backgroundColor: &quot;transparent&quot;,
    overflow: &apos;visible&apos;,
    position: &apos;absolute&apos;,
    zIndex: 999,
    right: 5,
    top: 30, 
&#125;,


&lt;View style=&#123;[styles.drawerContainer, (drawerShow ? &#123; width: WIDTH &#125; : null)]&#125;&gt;
       &lt;Drawer
           sidebar=&#123;sidebar&#125;
           position=&quot;right&quot;
           open=&#123;false&#125;
           drawerRef=&#123;el =&gt; (this.drawer = el)&#125;
           onOpenChange=&#123;this.onOpenChange&#125;
           drawerBackgroundColor=&quot;#fff&quot;
           drawerWidth=&#123;320&#125;
        &gt;
           &lt;View style=&#123;styles.drawerBox&#125;&gt;
              &lt;TouchableOpacity onPress=&#123;() =&gt; &#123; this.drawer &amp;&amp; this.drawer.openDrawer() &#125;&#125;&gt;
                 &lt;Text style=&#123;styles.openBtn&#125;&gt;列表&lt;/Text&gt;
               &lt;/TouchableOpacity&gt;
           &lt;/View&gt;
        &lt;/Drawer&gt;
&lt;/View&gt;</code></pre><h4 id="17-ScrollView子组件未设高度无法撑开的问题"><a href="#17-ScrollView子组件未设高度无法撑开的问题" class="headerlink" title="17.ScrollView子组件未设高度无法撑开的问题"></a>17.ScrollView子组件未设高度无法撑开的问题</h4><h4 id="18-style使用数组和非数组的区别，数组并不是简单的合并关系"><a href="#18-style使用数组和非数组的区别，数组并不是简单的合并关系" class="headerlink" title="18.style使用数组和非数组的区别，数组并不是简单的合并关系"></a>18.style使用数组和非数组的区别，数组并不是简单的合并关系</h4><h4 id="19-全局开启请求调试时，无法正常发送formData请求"><a href="#19-全局开启请求调试时，无法正常发送formData请求" class="headerlink" title="19.全局开启请求调试时，无法正常发送formData请求"></a>19.全局开启请求调试时，无法正常发送formData请求</h4><p>当开启如下调试时，</p><pre><code>GLOBAL.XMLHttpRequest = GLOBAL.originalXMLHttpRequest || GLOBAL.XMLHttpRequest</code></pre><p>使用XMLHttpRequest或fetch 发送 FormData数据，返回的数据不正常，关闭后可正常使用fetch</p><h4 id="20-webview中使用injectedJavaScript不能执行"><a href="#20-webview中使用injectedJavaScript不能执行" class="headerlink" title="20.webview中使用injectedJavaScript不能执行"></a>20.webview中使用injectedJavaScript不能执行</h4><p>需要将插入的js压缩为一行……</p><h4 id="21-react-native自带组件FlatList不随setState更新的问题"><a href="#21-react-native自带组件FlatList不随setState更新的问题" class="headerlink" title="21.react-native自带组件FlatList不随setState更新的问题"></a>21.react-native自带组件FlatList不随setState更新的问题</h4><p>需要添加extraData属性如 extraData={this.state}，因为FlatList是个PureComponent</p><h4 id="22-react-native自带组件FlatList的renderItem（item-i）中的i不起作用"><a href="#22-react-native自带组件FlatList的renderItem（item-i）中的i不起作用" class="headerlink" title="22.react-native自带组件FlatList的renderItem（item, i）中的i不起作用"></a>22.react-native自带组件FlatList的renderItem（item, i）中的i不起作用</h4><p>只能识别index，无法识别i</p><h4 id="23-react-native项目引入mock不起作用："><a href="#23-react-native项目引入mock不起作用：" class="headerlink" title="23.react native项目引入mock不起作用："></a>23.react native项目引入mock不起作用：</h4><p>关闭下面的调试：</p><pre><code>// GLOBAL.XMLHttpRequest = GLOBAL.originalXMLHttpRequest || GLOBAL.XMLHttpRequest</code></pre><h4 id="24-webview的injectJavaScript方法插入js代码不执行"><a href="#24-webview的injectJavaScript方法插入js代码不执行" class="headerlink" title="24.webview的injectJavaScript方法插入js代码不执行"></a>24.webview的injectJavaScript方法插入js代码不执行</h4><p>原写法是</p><pre><code>let Options = info.Options;
this.refs.webView.injectJavaScript(`window.onLoadPage($&#123;Options&#125;, null, $&#123;this.startRadian&#125;, $&#123;WIDTH&#125;, $&#123;PIXEL&#125;)`);</code></pre><p>直接传入对象数组无法执行（实际上是出错，但因为无法调试，效果跟没执行一样）</p><p>原因是这里的传参不能直接传对象，需要传入字符串，应该改为：</p><p>let Options = JSON.stringify(info.Options);</p><h4 id="25-react-native-table-component实现跨行和跨列"><a href="#25-react-native-table-component实现跨行和跨列" class="headerlink" title="25.react-native-table-component实现跨行和跨列"></a>25.react-native-table-component实现跨行和跨列</h4><pre><code>tableData = [[&quot;10000&quot;,&quot;100&quot;,&quot;1000&quot;,&quot;0&quot;],[&quot;10000&quot;,&quot;100&quot;,&quot;1000&quot;,&quot;0&quot;],[&quot;30&quot;,&quot;10&quot;,&quot;20&quot;,&quot;5&quot;],[&quot;2.00&quot;],[&quot;备注&quot;]]

&lt;Table borderStyle=&#123;styles.tableBorder&#125;&gt;
    &lt;Row data=&#123;options.tableHead&#125; style=&#123;styles.tableHead&#125; textStyle=&#123;[styles.tableText, styles.tableHeadText]&#125; /&gt;
    &lt;Cols data=&#123;options.tableData&#125; textStyle=&#123;[styles.tableText]&#125;&gt;&lt;/Cols&gt;
&lt;/Table&gt;</code></pre><p>可以实现如下效果</p><h4 id="26-使用react-navigation的navigate-时，componentWillUnmount不会触发"><a href="#26-使用react-navigation的navigate-时，componentWillUnmount不会触发" class="headerlink" title="26.使用react-navigation的navigate()时，componentWillUnmount不会触发"></a>26.使用react-navigation的navigate()时，componentWillUnmount不会触发</h4><p>原因：</p><pre><code>Navigator uses stack to manager route. When you push a new page,
current page wont unmount, if you pop from new page to the current
page, the new page will unmount. And in other scene, if you render
some child component based on some regulation like isLoading or other,
the componentWillUnmount method will also be called when they no
longer need to be rendered.</code></pre><p>推荐使用react-navigation提供的lifecycle或者replace()、pop()</p><p>推荐文章：<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/dc9df5826651/">https://www.jianshu.com/p/dc9df5826651/</a></p></div><div class="article-footer"><blockquote class="mt-2x"><ul class="post-copyright list-unstyled"><li class="post-copyright-link hidden-xs"><strong>本文链接：</strong> <a href="http://www.kuang2.cn/2019/05/05/react-native%E9%81%87%E5%9D%91-%E5%A1%AB%E5%9D%91(%E4%B8%8A)/" title="react-native遇坑-填坑(上)" target="_blank" rel="external">http://www.kuang2.cn/2019/05/05/react-native%E9%81%87%E5%9D%91-%E5%A1%AB%E5%9D%91(%E4%B8%8A)/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！</li></ul></blockquote><div class="panel panel-default panel-badger" style="display:none"><div class="panel-body"><figure class="media"><div class="media-left"><a href="https://github.com/chenkuangkuang" target="_blank" class="img-burn thumb-sm visible-lg"><img src="/images/avatar.jpg" class="img-rounded w-full" alt=""></a></div><div class="media-body"><h3 class="media-heading"><a href="https://github.com/chenkuangkuang" target="_blank"><span class="text-dark">框框之下</span><small class="ml-1x">Web Developer</small></a></h3><div>框框之下，是自由；荒诞之中，即真理。</div></div></figure></div></div></div></article><section id="comments"><div id="vcomments"></div></section></div><nav class="bar bar-footer clearfix" data-stick-bottom><div class="bar-inner"><ul class="pager pull-left"><li class="prev"><a href="/2019/05/23/%E7%97%85%E7%97%9B%E5%8F%97%E9%9A%BE%E5%8F%B2/" title="病痛受难史"><i class="icon icon-angle-left" aria-hidden="true"></i></a></li><li class="next"><a href="/2019/05/05/react-native%E9%81%87%E5%9D%91-%E5%A1%AB%E5%9D%91(%E4%B8%8B)/" title="react-native遇坑-填坑(下)"><i class="icon icon-angle-right" aria-hidden="true"></i></a></li><li class="toggle-toc"><a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button"><i class="text-collapsed icon icon-anchor"></i> <i class="text-in icon icon-close"></i></a></li></ul><button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button><div class="bar-right"><div class="share-component" data-sites="weibo,qq,wechat" data-mobile-sites="weibo,qq"></div></div></div></nav><div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content donate"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><div class="modal-body"><div class="donate-box"><div class="donate-head"><p>感谢您的支持，我会继续努力的!</p></div><div class="tab-content"><div role="tabpanel" class="tab-pane fade active in" id="alipay"><div class="donate-payimg"><img src="/images/alipayimg.png" alt="扫码支持" title="扫一扫"></div><p class="text-muted mv">扫码打赏，你说多少就多少</p><p class="text-grey">打开支付宝扫一扫，即可进行扫码打赏哦</p></div><div role="tabpanel" class="tab-pane fade" id="wechatpay"><div class="donate-payimg"><img src="/images/wechatpayimg.png" alt="扫码支持" title="扫一扫"></div><p class="text-muted mv">扫码打赏，你说多少就多少</p><p class="text-grey">打开微信扫一扫，即可进行扫码打赏哦</p></div></div><div class="donate-footer"><ul class="nav nav-tabs nav-justified" role="tablist"><li role="presentation" class="active"><a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a></li><li role="presentation"><a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> 微信支付</a></li></ul></div></div></div></div></div></div></main><footer class="footer" itemscope itemtype="http://schema.org/WPFooter"><ul class="social-links"><li><a href="https://github.com/chenkuangkuang" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li><li><a href="https://www.weibo.com/u/2158375032" target="_blank" title="Weibo" data-toggle="tooltip" data-placement="top"><i class="icon icon-weibo"></i></a></li><li><a href="https://www.zhihu.com/people/chen-kuang-kuang/activities" target="_blank" title="Zhihu" data-toggle="tooltip" data-placement="top"><i class="icon icon-zhihu"></i></a></li><li><a href="mailto:540342678@qq.com" target="_blank" title="Email" data-toggle="tooltip" data-placement="top"><i class="icon icon-email"></i></a></li></ul><div class="copyright"><div class="publishby">Theme by <a href="https://github.com/cofess" target="_blank">cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.</div></div></footer><script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script><script>window.jQuery||document.write('<script src="js/jquery.min.js"><\/script>')</script><script src="/js/plugin.min.js"></script><script src="/js/application.js"></script><script>!function(T){var N={TRANSLATION:{POSTS:"文章",PAGES:"页面",CATEGORIES:"分类",TAGS:"标签",UNTITLED:"(未命名)"},ROOT_URL:"/",CONTENT_URL:"/content.json"};T.INSIGHT_CONFIG=N}(window)</script><script src="/js/insight.js"></script><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//cdn.jsdelivr.net/npm/valine"></script><script type="text/javascript">var GUEST=["nick","mail","link"],meta="nick,mail,link";meta=meta.split(",").filter(function(a){return GUEST.indexOf(a)>-1}),new Valine({el:"#vcomments",verify:!1,notify:!1,appId:"THB4JIw28kmHqa9OnTQC2cNB-gzGzoHsz",appKey:"z9avTVqNcQmCF0PKTFBBt6hz",placeholder:"ヾﾉ≧∀≦)o来啊，快活啊!",avatar:"mm",meta:meta,pageSize:"10",visitor:!1})</script></body></html><!-- rebuild by neat -->